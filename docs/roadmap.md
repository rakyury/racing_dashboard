# Дорожная карта валидации и разработки

Ниже зафиксированы пять основных этапов, вытекающих из требований к приборной панели. Каждый этап содержит цель, критерии приемки, ожидаемые артефакты и зависимые ресурсы.

## 1. Проверка дисплея и подсистем питания в жару и ярком солнце
- **Цель:** подтвердить читабельность (≥1000 нит, антиблик) и стабильность питания под высокой температурой и при пиковых нагрузках подсветки.
- **Критерии приемки:**
  - Читаемость UI на прямом солнце; фотофиксация и люксметр.
  - Температура корпуса/LED-драйвера в пределах допуска; отсутствие троттлинга подсветки ниже целевого минимума.
  - Питание 9–18 В выдерживает броски/просадки (load dump, cold crank), шум не нарушает работу дисплея.
- **Артефакты:** протокол испытаний, графики яркости/температуры, схема/спека подсистем питания, обновлённые параметры драйвера подсветки.
- **Ресурсы:** климатическая камера/нагрев, солнечная симуляция или тест на улице, люксметр, термопары, программируемый источник питания/электронная нагрузка.

## 2. Bring-up MCU + CAN + GNSS/IMU, одновременный лог 25 Гц GNSS и CAN
- **Цель:** доказать работоспособность базовой аппаратной платформы и одновременную обработку шинных данных и навигации.
- **Критерии приемки:**
  - Инициализация MCU, два канала CAN FD на целевой скорости, PPS от GNSS синхронизирует логи.
  - Устойчивый поток GNSS 25 Гц; IMU выдаёт данные без пропусков.
  - Запись CAN + GNSS/IMU в лог с таймстампами <2 мс джиттера.
- **Артефакты:** тестовый отчёт, дамп логов, скрипт/конфиг для генерации CAN-трафика, проверка разводки (borescope, фото, pinout).
- **Ресурсы:** CAN-тестер/симулятор с DBC, GNSS антенна/эмулятор, осциллограф/логгер PPS.

## 3. Базовая прошивка: бутлоадер, драйвер дисплея, приём CAN, чтение входов, лог на SD/eMMC
- **Цель:** минимально работающий стек прошивки для демонстрации core-функций.
- **Критерии приемки:**
  - Бутлоадер загружает приложение и проверяет целостность образа.
  - Экран рендерит базовый UI (тахометр-мок, индикаторы), частота обновления ≥60 Гц.
  - Приём/парсинг CAN + чтение 10 аналоговых и 10 цифровых входов с фильтрами; данные попадают в шину событий.
  - Логирование на SD/eMMC с ротацией файлов, защита от обрыва питания (журнализация/атомарная запись).
- **Артефакты:** бинарии бутлоадера/приложения, исходники конфигов, демо-лог, инструкции по прошивке.
- **Ресурсы:** отладочная плата, SD-карты ind-grade, стенд с имитацией входов и CAN.

## 4. Desktop configurator alpha
- **Цель:** дать минимальный инструмент для настройки и визуализации.
- **Критерии приемки:**
  - Импорт DBC и привязка сигналов к каналам/виджетам.
  - Редактор макетов (drag & drop) с сохранением проекта (JSON/TOML) и версионированием схемы.
  - Live data viewer по USB/Wi‑Fi, загрузка/скачивание логов.
- **Артефакты:** установочные пакеты/билды Win/macOS/Linux, пример проекта, руководство пользователя (черновик).
- **Ресурсы:** Qt/Electron окружение, тестовые DBC, приборка для live-трафика или симулятор.

## 5. OTA/Wi‑Fi конфигурация и автояркость; финализация корпуса/оптики
- **Цель:** завершить беспроводную конфигурацию и довести UX/механику.
- **Критерии приемки:**
  - Wi‑Fi AP/STA, captive portal, OTA с двойным слотом и откатом.
  - Автояркость с ALS: плавная кривая, дневной/ночной пресеты, лимиты min/max.
  - Корпус и оптика: подтверждённые материалы, антиблик, угол обзора ≥80°, уплотнения IP54+, тепловой и виброанализ.
- **Артефакты:** демонстрация OTA, протоколы тестов автояркости, финальный комплект чертежей/спеки корпуса.
- **Ресурсы:** тестовый стенд Wi‑Fi, ALS датчик и освещение, механические прототипы/образцы.
